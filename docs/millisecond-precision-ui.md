# ミリ秒精度の時間入力UI

## 🎯 改善内容

WhisperAPIの高精度なタイムスタンプを活用するため、UIをミリ秒単位の入力に対応させました。

## 🔧 実装した機能

### 1. **柔軟な時間入力形式**
```
1:30.500  - 1分30秒500ミリ秒
90.250    - 90秒250ミリ秒
2:15      - 2分15秒（ミリ秒なし）
```

### 2. **入力支援機能**
- **ツールチップ**: フォーカス時にヒントを表示
- **自動フォーマット**: 数字のみ入力で分:秒形式に変換
- **クイック挿入**: ダブルクリックで例を挿入

### 3. **視覚的ガイド**
- 入力例を複数表示
- コードブロックでフォーマットを明示
- 分かりやすい説明文

## 📊 効果

### Before
```
開始時間: [0:00] 終了時間: [5:00]
例: 1:30 (1分30秒) または 90 (90秒)
```
**制限**: 秒単位のみ、精度不足

### After
```
開始時間: [0:00.000] 終了時間: [5:00.000]
💡 入力例:
• 1:30.500 - 1分30秒500ミリ秒
• 90.250 - 90秒250ミリ秒  
• 2:15 - 2分15秒（ミリ秒なし）
📋 ダブルクリックで例を挿入
```
**改善**: ミリ秒精度、多様な入力形式、充実したガイド

## 🎬 使用例

### 精密なセグメント指定
```
開始: 1:23.750  → 83.75秒
終了: 1:28.250  → 88.25秒
```
**4.5秒間の精密な切り出しが可能**

### CMの特定部分
```
開始: 0:12.100  → ブランド名開始
終了: 0:14.850  → ブランド名終了
```
**2.75秒間の短いセグメントも正確に**

## 💡 技術的詳細

### 入力パターン
```javascript
pattern="[0-9]*:[0-9]{2}(\.[0-9]{3})?"
```
- 分:秒.ミリ秒形式
- ミリ秒は3桁
- 省略可能

### 自動変換ロジック
```javascript
// 90 → 1:30
if (/^\d+$/.test(value) && value.length > 2) {
    const mins = Math.floor(totalSeconds / 60);
    const secs = totalSeconds % 60;
    return `${mins}:${secs.toString().padStart(2, '0')}`;
}
```

### パース処理
```javascript
// 1:30.500 → 90.5秒
const timeParts = timeStr.split(':');
const mins = parseInt(timeParts[0]);
const secParts = timeParts[1].split('.');
const secs = parseInt(secParts[0]);
const ms = secParts[1] ? parseInt(secParts[1]) : 0;
return mins * 60 + secs + ms / 1000;
```

## ⚡ パフォーマンス

### 精度向上
- **従来**: ±1秒の誤差
- **改善後**: ±1ミリ秒の精度

### ユーザビリティ
- **入力支援**: 自動フォーマット、ヒント表示
- **エラー防止**: パターン検証、例の提供
- **効率性**: ダブルクリック挿入、直感的操作

これにより、WhisperAPIの高精度なタイムスタンプを最大限活用できるようになりました。