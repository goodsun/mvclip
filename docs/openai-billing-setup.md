# OpenAI API 課金設定ガイド

## 🚨 重要：課金設定が必須

OpenAI APIの利用には**有料契約と課金設定が必須**です。無料枠（$5クレジット）終了後は、支払い方法を設定しないとAPIが利用できません。

## 💳 課金設定の手順

### 1. OpenAI Platformにログイン
https://platform.openai.com/

### 2. 課金設定ページにアクセス
1. 左メニューから「**Billing**」をクリック
2. 「**Payment methods**」を選択

### 3. 支払い方法を追加
1. 「**Add payment method**」をクリック
2. クレジットカード情報を入力：
   - カード番号
   - 有効期限
   - CVV
   - 名義人名
3. 請求先住所を入力
4. 「**Submit**」をクリック

### 4. 使用制限の設定（推奨）
1. 「**Usage limits**」を設定
2. 月額予算上限を設定（例：$10, $50）
3. 警告通知の閾値を設定（例：80%で警告）

## 💰 Whisper API 料金

### 基本料金
- **$0.006 / 分** (公式価格)
- **実際の料金**: $0.010 / 分 の場合もあり

### 料金例
| 動画長 | 公式料金 | 実際料金（想定） |
|--------|----------|------------------|
| 1分    | $0.006   | $0.010          |
| 10分   | $0.060   | $0.100          |
| 30分   | $0.180   | $0.300          |
| 60分   | $0.360   | $0.600          |

### 日本円換算（1ドル=150円の場合）
| 動画長 | 公式料金 | 実際料金（想定） |
|--------|----------|------------------|
| 1分    | 約1円    | 約1.5円         |
| 10分   | 約9円    | 約15円          |
| 30分   | 約27円   | 約45円          |
| 60分   | 約54円   | 約90円          |

## 📊 使用量の確認方法

### 1. 使用量ダッシュボード
1. OpenAI Platform > 「**Usage**」
2. 現在の請求サイクルの使用量を確認
3. 過去の使用履歴を確認

### 2. リアルタイム監視
```bash
# API使用量確認のサンプルコード
curl -H "Authorization: Bearer $OPENAI_API_KEY" \
  "https://api.openai.com/v1/usage?date=2024-01-01"
```

## ⚠️ 重要な注意事項

### 課金が必要な理由
1. **APIアクセス権限**: 支払い方法未設定ではAPIが制限される
2. **ファイルアップロード**: Whisper APIのファイルアップロード機能には課金アカウントが必要
3. **レート制限**: 無料アカウントでは厳しいレート制限がある

### 予算管理
- **月額上限設定**: 想定外の課金を防ぐ
- **警告通知**: 閾値到達でメール通知
- **使用量監視**: 定期的な確認が重要

### セキュリティ
- **APIキー管理**: 定期的なローテーション
- **アクセス制限**: 必要最小限の権限設定
- **監査ログ**: 使用履歴の定期確認

## 🏢 企業向けオプション

### Enterprise プラン
- **ボリューム割引**: 大量使用時の割引
- **専用レート制限**: カスタム制限設定
- **SLA**: サービスレベル保証
- **専用サポート**: 優先技術サポート

### セキュリティ強化
- **SOC 2 Type 2 準拠**: エンタープライズセキュリティ
- **データ処理保証**: データ保護とプライバシー
- **カスタム契約**: 特別な要件への対応

## 🔧 トラブルシューティング

### 課金設定後もAPIエラーが発生する場合

#### 1. 支払い方法の確認
```bash
# アカウント状況確認
curl -H "Authorization: Bearer $OPENAI_API_KEY" \
  "https://api.openai.com/v1/models"
```

#### 2. 使用量制限の確認
- 月額制限に達していないか確認
- 警告メールの確認

#### 3. APIキーの権限確認
- プロジェクト設定での権限確認
- Audio API権限の有効化

### よくあるエラー

#### 429 Too Many Requests
**原因**: レート制限に達している
**解決**: 課金プランのアップグレード

#### 402 Payment Required
**原因**: 支払い方法未設定または残高不足
**解決**: 課金設定の完了

#### 401 Unauthorized
**原因**: APIキーの権限不足
**解決**: プロジェクト設定の確認

## 📞 サポート

### OpenAI サポート
- **課金関連**: billing@openai.com
- **技術サポート**: https://help.openai.com/
- **緊急時**: プラットフォーム内のサポートチケット

### 課金に関する問い合わせ
1. OpenAI Platform > Help > Contact Support
2. 課金カテゴリを選択
3. 詳細を記述して送信

## 🔄 定期的なメンテナンス

### 月次確認項目
- [ ] 使用量レポートの確認
- [ ] 予算設定の見直し
- [ ] APIキーのローテーション
- [ ] セキュリティログの確認

### 年次確認項目
- [ ] 契約プランの見直し
- [ ] 料金体系の変更確認
- [ ] セキュリティポリシーの更新
- [ ] バックアップとディザスタリカバリの確認